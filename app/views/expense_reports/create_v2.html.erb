<%= javascript_include_tag "expense_chart" %>

<div id="expense_chart">
  <canvas width="600" height="300"></canvas>
  <div id="float_tip"></div>

  <script>
   $(function() {
     var chart = new ExpenseChart({
       data: get_expense_data(),
       canvas: $('#expense_chart canvas'),
     });

     chart.render();
   });

   function get_expense_data() {
     data = [];

     for(var i = 0; i <= 29; ++i) {
       var date = new Date();
       date.setDate(date.getDate() + i);
       data.push({ date: date, amount: (i < 15 ? i + 1 : 30 - i) });
     }

     return data;
   }
  </script>
</div>

<!-- debugging console -->
<div id="console" style="width: 600px; height: 100px; border: 1px solid blue; padding: 10px; margin-left: 20px; margin-top: 20px;"/>