<%= javascript_include_tag "expense_entries" %>

<div class="container">
  <h3 class="text-center">Enter Your Expense</h3>
  <hr/>
  <% if @last_item_type %>
    <row>
      <div class="col-sm-offset-3 col-sm-8 alert alert-success">
        Expense entry for <%= @last_item_type.name %> is saved<br/>
        <%= link_to "Edit #{@last_item_type.name}", show_item_type_path(@last_item_type) %>
      </div>
    </row>
  <% end %>

  <% if alert %>
    <row>
      <div class="col-sm-offset-3 col-sm-8 alert alert-danger">
        <%= alert %>
      </div>
    </row>
  <% end %>

  <%= form_for @expense_entry,
    url: create_expense_entry_path,
    html: { class: "form-horizontal", autocomplete: "off" } do |f| %>

    <%= render partial: "/shared/item_type_input",
      locals: { form_builder: f, field_name: :item_type } %>

    <%= render partial: "cost_of_create_form", locals: { form_builder: f } %>

    <%= render partial: "/shared/date_input",
      locals: { form_builder: f, field_name: :purchase_date,
                label_text: "When", default_date: "new Date()" } %>

    <%= render partial: "tags_of_create_form", locals: { form_builder: f } %>

    <div class="form-group">
      <div class="col-sm-offset-3 col-sm-8">
        <%= f.submit "Submit", class: "btn btn-primary" %>
      </div>
    </div>
  <% end %>
</div>
